var auth0=null;const configureClient=async()=>{auth0=await createAuth0Client({domain:"marintrace.us.auth0.com",client_id:"rWrCmqGLtWscSLirUNufXW8p63R7xyCj",scope:"openid profile email",audience:"tracing-rest-api"}).catch(function(e){alert("Couldn't initialize authentication"),console.log(e),window.location="index.html"})};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service-worker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});var firebaseConfig={apiKey:"AIzaSyAb7kW9g741aeWlVXoaTaAGZvyHQe55J6Q",authDomain:"marintrace-7c31a.firebaseapp.com",databaseURL:"https://marintrace-7c31a.firebaseio.com",projectId:"marintrace-7c31a",storageBucket:"marintrace-7c31a.appspot.com",messagingSenderId:"932772973963",appId:"1:932772973963:web:90dd713cc42c2a4c2c738e",measurementId:"G-RQSKEVJ22B"};function createHTTPClientInstance(){var e="";return"undefined"!=typeof authToken?e=authToken:(alert("Couldn't verify authentication status. Please log in again."),document.location.href="/index.html"),console.log(e),axios.create({baseURL:"https://api.marintracingapp.org",headers:{"Content-type":"application/json",Authorization:"Bearer "+e},timeout:1e4})}async function reportTest(e){const a=createHTTPClientInstance();await a.post("/test",{test_type:e}).then(function(e){console.log(e),$("#positiveModal").modal("hide"),$("#negativeModal").modal("hide")}).catch(function(e){alert("Couldn't report test result. Make sure you're connected to internet and log out and log in again. If the error persists please contact us. "+e),console.log(e)})}async function getContacts(){if(null==localStorage.getItem("users")){const e=createHTTPClientInstance();await e.get("/list/users").then(function(e){console.log("Cache not found... building"),localStorage.setItem("users",JSON.stringify(e.data.users))}).catch(function(e){alert("Couldn't get list of potential contacts. Make sure you're connected to internet and log out and log in again. If the error persists please contact us. "+e),console.log(e)})}else console.log("Using Cache...")}async function reportContacts(e){const a=createHTTPClientInstance();await a.post("/interaction",{targets:e}).then(function(e){document.location.href="/home.html",console.log(e)}).catch(function(e){alert("Couldn't report contacts. Make sure you're connected to internet and log out and log in again. If the error persists please contact us. "+e),console.log(e)})}async function reportSymptoms(e){const a=createHTTPClientInstance();a.data=e,await a.post("/symptoms",{data:e}).then(function(e){document.location.href="/home.html",console.log(e)}).catch(function(e){alert("Couldn't report symptoms. Make sure you're connected to internet and log out and log in again. If the error persists please contact us. "+e),console.log(e)})}async function markUserAsActive(){const e=createHTTPClientInstance();await e.post("/set-active-user").then(function(e){document.location.href="/home.html",console.log(e)}).catch(function(e){alert("Couldn't mark you as an active user. Make sure you're connected to internet and log out and log in again. If the error persists please contact us. "+e),console.log(e)})}firebase.initializeApp(firebaseConfig),firebase.analytics();var Layout=function(){function e(){$(".sidenav-toggler").addClass("active"),$(".sidenav-toggler").data("action","sidenav-unpin"),$("body").removeClass("g-sidenav-hidden").addClass("g-sidenav-show g-sidenav-pinned"),$("body").append('<div class="backdrop d-xl-none" data-action="sidenav-unpin" data-target='+$("#sidenav-main").data("target")+" />"),Cookies.set("sidenav-state","pinned")}function a(){$(".sidenav-toggler").removeClass("active"),$(".sidenav-toggler").data("action","sidenav-pin"),$("body").removeClass("g-sidenav-pinned").addClass("g-sidenav-hidden"),$("body").find(".backdrop").remove(),Cookies.set("sidenav-state","unpinned")}var n=Cookies.get("sidenav-state")?Cookies.get("sidenav-state"):"pinned";$(window).width()>1200&&("pinned"==n&&e(),"unpinned"==Cookies.get("sidenav-state")&&a(),$(window).resize(function(){$("body").hasClass("g-sidenav-show")&&!$("body").hasClass("g-sidenav-pinned")&&$("body").removeClass("g-sidenav-show").addClass("g-sidenav-hidden")})),$(window).width()<1200&&($("body").removeClass("g-sidenav-hide").addClass("g-sidenav-hidden"),$("body").removeClass("g-sidenav-show"),$(window).resize(function(){$("body").hasClass("g-sidenav-show")&&!$("body").hasClass("g-sidenav-pinned")&&$("body").removeClass("g-sidenav-show").addClass("g-sidenav-hidden")})),$("body").on("click","[data-action]",function(n){n.preventDefault();var t=$(this),o=t.data("action");t.data("target");switch(o){case"sidenav-pin":e();break;case"sidenav-unpin":a();break;case"search-show":t.data("target"),$("body").removeClass("g-navbar-search-show").addClass("g-navbar-search-showing"),setTimeout(function(){$("body").removeClass("g-navbar-search-showing").addClass("g-navbar-search-show")},150),setTimeout(function(){$("body").addClass("g-navbar-search-shown")},300);break;case"search-close":t.data("target"),$("body").removeClass("g-navbar-search-shown"),setTimeout(function(){$("body").removeClass("g-navbar-search-show").addClass("g-navbar-search-hiding")},150),setTimeout(function(){$("body").removeClass("g-navbar-search-hiding").addClass("g-navbar-search-hidden")},300),setTimeout(function(){$("body").removeClass("g-navbar-search-hidden")},500)}}),$(".sidenav").on("mouseenter",function(){$("body").hasClass("g-sidenav-pinned")||$("body").removeClass("g-sidenav-hide").removeClass("g-sidenav-hidden").addClass("g-sidenav-show")}),$(".sidenav").on("mouseleave",function(){$("body").hasClass("g-sidenav-pinned")||($("body").removeClass("g-sidenav-show").addClass("g-sidenav-hide"),setTimeout(function(){$("body").removeClass("g-sidenav-hide").addClass("g-sidenav-hidden")},300))}),$(window).on("load resize",function(){$("body").height()<800&&($("body").css("min-height","100vh"),$("#footer-main").addClass("footer-auto-bottom"))})}(),CopyIcon=function(){var e,a=".btn-icon-clipboard",n=$(a);n.length&&((e=n).tooltip().on("mouseleave",function(){e.tooltip("hide")}),new ClipboardJS(a).on("success",function(e){$(e.trigger).attr("title","Copied!").tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle"),e.clearSelection()}))}(),Navbar=function(){var e=$(".navbar-nav, .navbar-nav .nav"),a=$(".navbar .collapse"),n=$(".navbar .dropdown");a.on({"show.bs.collapse":function(){var n;(n=$(this)).closest(e).find(a).not(n).collapse("hide")}}),n.on({"hide.bs.dropdown":function(){var e,a;e=$(this),(a=e.find(".dropdown-menu")).addClass("close"),setTimeout(function(){a.removeClass("close")},200)}})}(),NavbarCollapse=function(){$(".navbar-nav");var e=$(".navbar .navbar-custom-collapse");e.length&&(e.on({"hide.bs.collapse":function(){e.addClass("collapsing-out")}}),e.on({"hidden.bs.collapse":function(){e.removeClass("collapsing-out")}}));var a=0;$(".sidenav-toggler").click(function(){if(1==a)$("body").removeClass("nav-open"),a=0,$(".bodyClick").remove();else{$('<div class="bodyClick"></div>').appendTo("body").click(function(){$("body").removeClass("nav-open"),a=0,$(".bodyClick").remove()}),$("body").addClass("nav-open"),a=1}})}(),Popover=function(){var e=$('[data-toggle="popover"]'),a="";e.length&&e.each(function(){!function(e){e.data("color")&&(a="popover-"+e.data("color"));var n={trigger:"focus",template:'<div class="popover '+a+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'};e.popover(n)}($(this))})}(),ScrollTo=function(){var e=$(".scroll-me, [data-scroll-to], .toc-entry a");function a(e){var a=e.attr("href"),n=e.data("scroll-to-offset")?e.data("scroll-to-offset"):0,t={scrollTop:$(a).offset().top-n};$("html, body").stop(!0,!0).animate(t,600),event.preventDefault()}e.length&&e.on("click",function(e){a($(this))})}(),Tooltip=function(){var e=$('[data-toggle="tooltip"]');e.length&&e.tooltip()}(),FormControl=function(){var e=$(".form-control");e.length&&e.on("focus blur",function(e){$(this).parents(".form-group").toggleClass("focused","focus"===e.type)}).trigger("blur")}(),noUiSlider=function(){if($(".input-slider-container")[0]&&$(".input-slider-container").each(function(){var e=$(this).find(".input-slider"),a=e.attr("id"),n=e.data("range-value-min"),t=e.data("range-value-max"),o=$(this).find(".range-slider-value"),s=o.attr("id"),i=o.data("range-value-low"),r=document.getElementById(a),d=document.getElementById(s);noUiSlider.create(r,{start:[parseInt(i)],connect:[!0,!1],range:{min:[parseInt(n)],max:[parseInt(t)]}}),r.noUiSlider.on("update",function(e,a){d.textContent=e[a]})}),$("#input-slider-range")[0]){var e=document.getElementById("input-slider-range"),a=document.getElementById("input-slider-range-value-low"),n=document.getElementById("input-slider-range-value-high"),t=[a,n];noUiSlider.create(e,{start:[parseInt(a.getAttribute("data-range-value-low")),parseInt(n.getAttribute("data-range-value-high"))],connect:!0,range:{min:parseInt(e.getAttribute("data-range-value-min")),max:parseInt(e.getAttribute("data-range-value-max"))}}),e.noUiSlider.on("update",function(e,a){t[a].textContent=e[a]})}}(),Scrollbar=function(){var e=$(".scrollbar-inner");e.length&&e.scrollbar().scrollLock()}();