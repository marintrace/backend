document.getElementById("branson").onclick=function(){showGoogle()},document.getElementById("ma").onclick=function(){showGoogle()};var newAuth=!1;window.onload=async()=>{$("#branson").addClass("disabled"),$("#branson").html("Loading..."),$("#ma").addClass("disabled"),$("#ma").html("Loading..."),await configureClient();const n=await auth0.isAuthenticated();var o;if($("#branson").removeClass("disabled"),$("#branson").html("Login with branson.org"),$("#ma").removeClass("disabled"),$("#ma").html("Login with ma.org"),n)document.location.href="/home.html";else if((window.onpopstate=function(){var n,a=/\+/g,e=/([^&=]+)=?([^&]*)/g,t=function(n){return decodeURIComponent(n.replace(a," "))},i=window.location.search.substring(1);for(o={};n=e.exec(i);)o[t(n[1])]=t(n[2])})(),"code"in o&&"state"in o){$("#branson").addClass("disabled"),$("#branson").html("Loading..."),$("#ma").addClass("disabled"),$("#ma").html("Loading..."),await auth0.handleRedirectCallback();const n=await auth0.getIdTokenClaims();authToken=n.__raw,markUserAsActive().then((function(){$(document).ready((function(){$("#branson").removeClass("disabled"),$("#branson").html("Login with branson.org"),$("#ma").removeClass("disabled"),$("#ma").html("Login with ma.org")})),document.location.href="/home.html"}))}else"error"in o&&"error_description"in o&&alert(o.error+" â€“ "+o.error_description)};const showGoogle=async()=>{await auth0.loginWithRedirect({redirect_uri:window.location.origin})};