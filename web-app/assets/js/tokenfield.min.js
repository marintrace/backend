jQuery(function(){let t=JSON.parse(localStorage.getItem("users"));void 0!==t?(alert("Couldn't find any other users to potentially report."),window.location="home.html"):0==t.length&&(alert("Couldn't find any other users to potentially report."),window.location="home.html");var e=t.map(function(t){return{label:t.first_name+" "+t.last_name,userEmail:t.email}});$("#tokenfield").tokenfield({autocomplete:{source:e,delay:100},showAutocompleteOnFocus:!0}).on("tokenfield:createtoken",function(t){var o=!0;if($.each(e,function(e,n){n.userEmail===t.attrs.userEmail&&(o=!1)}),!0===o)t.preventDefault();else{var n=$(this).tokenfield("getTokens");$.each(n,function(e,o){o.userEmail===t.attrs.userEmail&&t.preventDefault()})}}),$("#submitButton").click(function(){let t=$("#tokenfield").tokenfield("getTokens");if(t.length<1)alert("You must add contacts before you can report them.");else{$("#submitButton").addClass("disabled"),$("#submitButton").html("Loading...");let e=t.map(t=>t.userEmail);reportContacts(e).then(function(){$("#submitButton").removeClass("disabled"),$("#submitButton").html("Report")})}})});