jQuery((function(){void 0!==users&&0!=users.length||(alert("Couldn't find any other users to potentially report."),window.location="home.html");var e=users.map((function(e){return{label:e.first_name+" "+e.last_name,userEmail:e.email}}));$("#tokenfield").tokenfield({autocomplete:{source:e,delay:100},showAutocompleteOnFocus:!0}).on("tokenfield:createtoken",(function(t){var o=!0;if($.each(e,(function(e,n){n.userEmail===t.attrs.userEmail&&(o=!1)})),!0===o)t.preventDefault();else{var n=$(this).tokenfield("getTokens");$.each(n,(function(e,o){o.userEmail===t.attrs.userEmail&&t.preventDefault()}))}})),$("#submitButton").click((function(){let e=$("#tokenfield").tokenfield("getTokens");if(e.length<1)alert("You must add contacts before you can report them.");else{$("#submitButton").addClass("disabled"),$("#submitButton").html("Loading...");let t=e.map(e=>e.userEmail);reportContacts(t).then((function(){$("#submitButton").removeClass("disabled"),$("#submitButton").html("Report")}))}}))}));