jQuery((function(){users=[{first_name:"string",last_name:"string",email:"string@gmail.com",school:"string",signup_at:"inactive"}];var e=users.map((function(e){return{label:e.first_name+" "+e.last_name,userEmail:e.email}}));$("#tokenfield").tokenfield({autocomplete:{source:e,delay:100},showAutocompleteOnFocus:!0}).on("tokenfield:createtoken",(function(t){var n=!0;if($.each(e,(function(e,s){s.userEmail===t.attrs.userEmail&&(n=!1)})),!0===n)t.preventDefault();else{var s=$(this).tokenfield("getTokens");$.each(s,(function(e,n){n.userEmail===t.attrs.userEmail&&t.preventDefault()}))}})),$("#submitButton").click((function(){let e=$("#tokenfield").tokenfield("getTokens");if(e.length<1)alert("You must add contacts before you can report them.");else{$("#submitButton").prop("disabled",!0),$("#submitButton").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Report Contacts');let t=e.map(e=>e.userEmail);reportContacts(t).then((function(){$("#submitButton").find("span").removeClass("spinner-border spinner-border-sm"),$("#submitButton").prop("disabled",!1)}))}}))}));